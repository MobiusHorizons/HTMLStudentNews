/*! HTMLStudentNews 2014-01-29 */
function JSONP_makeCb(a){var b="jsonpCB.cb"+a;return jsonpCB["cb"+a]=function(b){200==b.responseStatus&&(JSONP_DATA[a].success(b),JSONP_cleanCb(a))},b}function JSONP_cleanCb(a){jsonpCB["cb"+a]=null,document.getElementsByTagName("head")[0].removeChild(JSONP_DATA[a].script)}function JSONP(a){var b=JSONP_DATA.push(a),c=/(=)\?(?=&|$)|\?\?/,d=document.createElement("script"),e=JSONP_makeCb(b);a.url=a.url.replace(c,"$1"+e),d.src=a.url,a.script=d,JSONP_DATA[b]=a,document.getElementsByTagName("head")[0].appendChild(d)}function getID(a){return document.getElementById(a)}function parseRSS(a,b){JSONP({url:"http://ajax.googleapis.com/ajax/services/feed/load?v=1.0&callback=?&num=-1&q="+encodeURIComponent(a),dataType:"jsonp",success:function(a){b(a.responseData.feed)}})}function goBack(){clear(),data(Data),navBack(!1)}function navBack(){}function entryView(a){var b=Data.entries[a],c=clear(),d=contentDiv({},b.title,b.content);d.classList.add("entry-view"),a=parseInt(a),Hammer(d).on("swiperight",function(){a>0&&(a--,location.hash="",location.hash="entryID="+a,routing())}),Hammer(d).on("swipeleft",function(){a<Data.entries.length&&(a++,location.hash="",location.hash="entryID="+a,routing())}),c.appendChild(d),navBack(!0)}function load(a){{var b=a.target;Data.entries[b.index]}location.hash="entryID="+b.index,entryView(b.index)}function clear(){return content=getID("content"),content?(content.innerHTML="",content.scroll=0,content):void 0}function collapse(){clear(),data(Data)}function entryListItem(a,b){var c=document.createElement("li");for(var d in a)c[d]=a[d];return c.innerHTML+=b,c.classList.add("content"),c}function contentDiv(a,b,c){var d=document.createElement("div");for(var e in a)d[e]=a[e];d.classList.add("content");var f=document.createElement("h4");return f.innerHTML=b,f.classList.add("content-title"),d.appendChild(f),c&&(d.innerHTML+=c),d.div=d,f.div=d,d.title=f,d}function data(a){location.hash="",content=document.getElementById("content");var b=document.createElement("ul");for(b.classList.add("arrowed"),Data=a,i=0;i<a.entries.length;i++){entry=a.entries[i];var c={};c.index=i,c=entryListItem(c,entry.title),c.classList.add("list-item"),c.classList.add("innerLI"),c.onclick=load,b.appendChild(c)}content.appendChild(b)}function updateData(a){parseRSS("http://www.worldh.org/calvin-student-news/rss/esn-latest-issue.rss",function(b){Data=b,a()})}function init(){window.addEventListener("hashchange",routing,!1),routing()}function routing(){var a=document.getElementsByTagName("*");if("#android"==location.hash){for(var b=0;b<a.length;b++)a[b].classList.add("android"),a[b].classList.remove("ios7");location.hash=""}else if("#ios7"==location.hash){for(var b=0;b<a.length;b++)a[b].classList.add("ios7"),a[b].classList.remove("android");location.hash=""}if(Data||updateData(routing),"#"==location.hash||""==location.hash)clear(),data(Data);else{var c=/#entryID=(.*)$/.exec(location.hash);c.length>=1&&entryView(c[1])}}var jsonpCB={},JSONP_DATA=[];Data=!1,document.onload=init();